# Задание 11, 12

 REG.RU DEPLOY http://194.67.109.184 
 
 1. Немного изменл структуру файлов сборки и названия контейнеров, переместил файлы сборки уровнем ниже, таким образом в корне сервера будет находился только файл docker-compose.yml. 
 2. На стороне сервера настроен --bare repository, таким образом весь проект спокойно пушится через git.
 3. Настроены CORS, заголовки и порты nginx (drf не добавлял порт при возврате url ресурса).
 4. Создан локальный файл настроек для разработки `python manage.py runserver --settings=settings.dev`
 
 5. [-] Не получилось использовать docker context, непонятная ошибка, потратил много времени...
 6  [-] Не настроены переменные окружения


# Задание 10

 1. На graphene реализована схема позваляющая получать `ToDo` по текущему проекту, запрос производится со страницы информации по проектe, таким образом отображаются все действующие `ToDo`

# Задание 9

 1. Версионирование API реализовано на `AcceptHeaderVersioning`, на стороне backend настроено для ресурса `customer` (отображения текущего пользователя).    Так в версии 2.0 у текущего пользователя присутствуют поля `is_superuser` и `is_staff`. На стороне фронтенда версия добавляется в интерсепторе запроса    класса. (только в одном месте - еще раз подтверждение удобства работы с классам...)

 2. [+] Создать документацию для API, используя drf-yasg.
 3. *Создано описание в `docstring`, отображается `BrowsebleAPI`. См. /todo/notes 
       Не уверен что правильно понял задание...
<br>

# Задание 8

1. [+] Написать минимум один тест для API, используя APIRequestFactory.
2. [+] Написать минимум один тест для API, используя APIClient.
3. [+] Написать минимум один тест для API, используя APITestCase.
    Во всех тестах используется mixer.
*  [-] Пока нет времени, лучше добавить Live test на этапе развертыватия.


# Задание 7

1. Используется авторизация по JWT токену

Backend:
   - Добавлена авторизация по JWT токену используя библиотеку
     `https://django-rest-framework-simplejwt.readthedocs.io/en/latest/`
   - Добавлен дополнительный route `customer` для отображения текущего пользователя

Frontend: 
   - Создан функциональные компоненты формы входа и выхода, добавлена страница `/login` на которой отображается форма в зависимости он состояния пользователя.

2. Решено расширить класс запросов к `api` на основе axiox соответствующими методами (для удобства) а также реализовать дополнительный класс для     
организации хранения токенов в localStorage.

3 *
4 *

5. Реализована возможность добавления JWT токена при запросе и незаметного его обновления по истечении используя axios.interceptors. 

6* Отображение состояния пользователя на всех страницах.
   - Архитектурно реализовано путем хранения текущего пользователя в `state` родительского компонента `App.js` с последующим пробросов в виде `props` всем 
   дочерним компонентам (форма входа, кнопка `SignIn`/`SignOut` в основном меню). 
   - Также передается родительский метод `update` для обновления состояния родительского компонента. 
   - Таким образом форма входа после удачной авторизации может получить запросом текущего пользователя и передать этим методом в родительский компонент,      после изменения состояния родительского компонента текущий пользователь становится доступным всем дочерним компонентам.  
<br>

# Задание 5, 6

1. Структурно проект решено реализовать в виде Canban board, наши заметки при этом будут размещаться на доске в соответствии с их состоянием или статусом. Предлагаемые статусы:
	Active - назначается при создании
	Progress - в работе 
	Done - выполнена
	Closed - закрыта, назначается администратором после проверки выполнения. При этом заметка 
         	 не удаляется, а просто не выводится при запросе. 

    Для стилизации применена библиотека bootstrap

2. Для получения данных с backend реализуем класс на основе axios а также сделаем его экземпляр общим для всех компонентов. 
   Плюсы такого подхода:
     - Класс настраивается на взаимодействие в конкретным каналом (в данном случае с REST) 
        (настраиваются заголовки, пути)
     - Отвечает за получение, хранение, инжектирование токенов и прочих cridentials,
       освобождая компоненты от ненужной логики. Также в случае изменения на стороне backend нужно будет только поднастроить класс, компонентов это не коснется. 
     - Позволяет реализовать редиректы на уровне обработчика ответа, что также освобождает
       компоненты от ненужной логики (например 403 -> redirect to /login) 
    
    Для взаимодействия с сервером на GraphQL реализауем другой класс настроеный на
       другой endpoint соответствено...

3. Pass... 

4. Для интерактивного взаимодействия (редактирование заметки, создание новых) вместо отдельных
   страниц предлагаю использовать всплывающие окна на основе Bootstrap Modal.

5*. Для реализации страницы информации по проекту, используем возможность передачи состояния
    компоненту при переходе через React Router, используя React hooks. Это позволит открывать страницу с информацией по интересующему проекту без 
    дополнительного запроса на backend и применения параметров в url страницы.
   
<br>


# Задание 4

1. Размер страниц установлен глобально - для всего проекта установлен глобальный 
    PageNumberPagination с лимитом в 100 записей.
2. См. п.1
3. -Модель `User` (Customer): ViewSet модели реализован с использованием mixins,     
                              функционал достигнут комбинацией без CreateModelMixin и DestroyModelMixin.      
   -Модель `Project`: настноен прстраничный вывод, настроен SearchFilter по частичному совпадению названия проекта.     
   -Модель `Todo`: настроен постраничный вывод, во `View` переписан метод `destroy` для смены флага заметки, и метод `list` для отображения по дефолту                      только активных заметок, остальные доступны при использовании параметра `search` фильтра. Метод для отображения всех заметок не  
                   добавлял, думаю он не соответстует общей концепции изменения статуса для сокрытия заметок. 

4. (Задание со *) Реализовано через поле DateTimeFromToRangeFilter отдельного класса фильтра, который установлен через filterset_class в ViewSet модели.  

<br>

# Задание 3

- Для выполнения задания создано отдельное приложение `todo`.
- Создана модель `project`, установлены связи с пользователями, для поля репозитория на уровне модели
  добавлен расширяемый валидатор.

- Создана модель заметки к project `note`, пока заметка находится в том же модуле что и project, 
      в дальнейшем скорее всего придется разделить (проблемы с импортом) 

    - Признак активности заметки `status` проекта выполнен в строковом виде для возможности расширения
      статусов: `pending`, `delayed`, `confirmed` ...e.t.c

    - Дополнительно, для блокировки возможности изменения названия проекта, а 
    также пользователя создавшего заметку, реализован валидатор на уровне
    сериализатора, так как он имеет достук к self и соответственно к данным модели до валидации. 

- Задание со *, установлен и подключен кастомный renderer согласно заданию, настроен на
  использование `no_underscore_before_number`. Для проверки, к модели `note` добавлено тестовое
  поле `camel_case_field` с произвольным значением, которое корректно преобразуется
  в `CamelCaseField`. 
